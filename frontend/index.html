<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internet Computer Component Library</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="index.css">
</head>
<body class="dark-theme">
    <aside class="sidebar">
        <div class="sidebar-header">
            <h1>Components</h1>
        </div>
        <ul class="category-list">
            <li class="category-item">
                <a href="#" class="category-link active" data-category="all">All Components</a>
            </li>
            <li class="category-item">
                <a href="#tooltips" class="category-link" data-category="tooltips">Tooltips</a>
            </li>
            <li class="category-item">
                <a href="#modals" class="category-link" data-category="modals">Modals</a>
            </li>
            <li class="category-item">
                <a href="#forms" class="category-link" data-category="forms">Forms</a>
            </li>
            <li class="category-item">
                <a href="#buttons" class="category-link" data-category="buttons">Buttons</a>
            </li>
            <li class="category-item">
                <a href="#auth" class="category-link" data-category="auth">Authentication</a>
            </li>
            <li class="category-item">
                <a href="#canister" class="category-link" data-category="canister">Canister Interaction</a>
            </li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search components..." id="searchInput">
            <div class="theme-toggle" id="themeToggle"></div>
        </div>
        <div id="noResults" style="display: none;">No results found</div>

        <section id="tooltips" class="category-section">
            <div class="category-header">
                <h2 class="category-title">Tooltips</h2>
                <a href="#" class="see-all">See all tooltips →</a>
            </div>
            <div class="components-grid">
                <div class="component-card" data-keywords="hover information popup">
                    <div class="component-header">
                        <h3 class="component-title">Simple Tooltip</h3>
                        <p class="component-description">Basic tooltip with hover trigger</p>
                    </div>
                    <div class="view-controls">
                        <button class="view-button active" data-view="preview">Preview</button>
                        <button class="view-button" data-view="code">Code</button>
                    </div>
                    <div class="component-view preview-view active">
                        <div class="preview-container">
                            <button style="position: relative; padding: 0.5rem 1rem; background: #333; border: none; border-radius: 4px; color: white;">
                                Hover me
                                <span style="position: absolute; background: #555; color: white; padding: 5px; border-radius: 3px; bottom: 125%; left: 50%; transform: translateX(-50%); white-space: nowrap; visibility: hidden; opacity: 0; transition: opacity 0.3s;">I'm a tooltip!</span>
                            </button>
                        </div>
                    </div>
                    <div class="component-view code-view">
                        <div class="code-container">
                            <button class="copy-button">Copy Code</button>
                            <pre><code class="language-html">&lt;button class="tooltip-trigger"&gt;
  Hover me
  &lt;span class="tooltip"&gt;I'm a tooltip!&lt;/span&gt;
&lt;/button&gt;

&lt;style&gt;
.tooltip-trigger {
  position: relative;
}

.tooltip {
  position: absolute;
  background: #555;
  color: white;
  padding: 5px;
  border-radius: 3px;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
  white-space: nowrap;
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.3s;
}

.tooltip-trigger:hover .tooltip {
  visibility: visible;
  opacity: 1;
}
&lt;/style&gt;</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="modals" class="category-section">
            <div class="category-header">
                <h2 class="category-title">Modals</h2>
                <a href="#" class="see-all">See all modals →</a>
            </div>
            <div class="components-grid">
                <div class="component-card" data-keywords="popup dialog overlay">
                    <div class="component-header">
                        <h3 class="component-title">Simple Modal</h3>
                        <p class="component-description">Basic modal with close button</p>
                    </div>
                    <div class="view-controls">
                        <button class="view-button active" data-view="preview">Preview</button>
                        <button class="view-button" data-view="code">Code</button>
                    </div>
                    <div class="component-view preview-view active">
                        <div class="preview-container">
                            <button onclick="document.getElementById('modal').style.display='block'">Open Modal</button>
                            <div id="modal" style="display:none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);">
                                <div style="background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 500px;">
                                    <span onclick="document.getElementById('modal').style.display='none'" style="color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;">&times;</span>
                                    <h2>Modal Title</h2>
                                    <p>Modal content goes here...</p>
                                    <button onclick="document.getElementById('modal').style.display='none'" style="background-color: #4CAF50; color: white; padding: 10px 20px; border: none; cursor: pointer; float: right;">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="component-view code-view">
                        <div class="code-container">
                            <button class="copy-button">Copy Code</button>
                            <pre><code class="language-html">&lt;button onclick="openModal()"&gt;Open Modal&lt;/button&gt;

&lt;div id="modal" class="modal"&gt;
  &lt;div class="modal-content"&gt;
    &lt;span class="close" onclick="closeModal()"&gt;&times;&lt;/span&gt;
    &lt;h2&gt;Modal Title&lt;/h2&gt;
    &lt;p&gt;Modal content goes here...&lt;/p&gt;
    &lt;button onclick="closeModal()"&gt;Close&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;style&gt;
.modal {
  display: none;
  position: fixed;
  z-index: 1;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.4);
}

.modal-content {
  background-color: #fefefe;
  margin: 15% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
  max-width: 500px;
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}
&lt;/style&gt;

&lt;script&gt;
function openModal() {
  document.getElementById('modal').style.display = 'block';
}

function closeModal() {
  document.getElementById('modal').style.display = 'none';
}
&lt;/script&gt;</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="forms" class="category-section">
            <div class="category-header">
                <h2 class="category-title">Forms</h2>
                <a href="#" class="see-all">See all forms →</a>
            </div>
            <div class="components-grid">
                <div class="component-card" data-keywords="input fields submit user data">
                    <div class="component-header">
                        <h3 class="component-title">Login Form</h3>
                        <p class="component-description">Basic login form with email and password fields</p>
                    </div>
                    <div class="view-controls">
                        <button class="view-button active" data-view="preview">Preview</button>
                        <button class="view-button" data-view="code">Code</button>
                    </div>
                    <div class="component-view preview-view active">
                        <div class="preview-container">
                            <form style="background: var(--bg-card); padding: 2rem; border-radius: 8px; width: 300px;">
                                <h3 style="color: var(--text-primary); margin-bottom: 1rem;">Login</h3>
                                <input type="email" placeholder="Email" style="width: 100%; padding: 0.75rem; background: var(--bg); border: 1px solid var(--border-color); border-radius: 4px; color: var(--text-primary); margin-bottom: 1rem;">
                                <input type="password" placeholder="Password" style="width: 100%; padding: 0.75rem; background: var(--bg); border: 1px solid var(--border-color); border-radius: 4px; color: var(--text-primary); margin-bottom: 1rem;">
                                <button type="submit" style="width: 100%; padding: 0.75rem; background: var(--accent); border: none; border-radius: 4px; color: white; cursor: pointer;">Login</button>
                            </form>
                        </div>
                    </div>
                    <div class="component-view code-view">
                        <div class="code-container">
                            <button class="copy-button">Copy Code</button>
                            <pre><code class="language-html">&lt;form class="login-form"&gt;
  &lt;h3&gt;Login&lt;/h3&gt;
  &lt;input type="email" placeholder="Email"&gt;
  &lt;input type="password" placeholder="Password"&gt;
  &lt;button type="submit"&gt;Login&lt;/button&gt;
&lt;/form&gt;

&lt;style&gt;
.login-form {
  background: #f0f0f0;
  padding: 2rem;
  border-radius: 8px;
  width: 300px;
}

.login-form input {
  width: 100%;
  padding: 0.75rem;
  margin-bottom: 1rem;
  border: 1px solid #ccc;
  border-radius: 4px;
}

.login-form button {
  width: 100%;
  padding: 0.75rem;
  background: #5c6bc0;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
&lt;/style&gt;</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="buttons" class="category-section">
            <div class="category-header">
                <h2 class="category-title">Buttons</h2>
                <a href="#" class="see-all">See all buttons →</a>
            </div>
            <div class="components-grid">
                <div class="component-card" data-keywords="click action ui element">
                    <div class="component-header">
                        <h3 class="component-title">Primary Button</h3>
                        <p class="component-description">Standard primary action button</p>
                    </div>
                    <div class="view-controls">
                        <button class="view-button active" data-view="preview">Preview</button>
                        <button class="view-button" data-view="code">Code</button>
                    </div>
                    <div class="component-view preview-view active">
                        <div class="preview-container">
                            <button style="padding: 0.75rem 1.5rem; background: var(--accent); border: none; border-radius: 4px; color: white; cursor: pointer;">Primary Action</button>
                        </div>
                    </div>
                    <div class="component-view code-view">
                        <div class="code-container">
                            <button class="copy-button">Copy Code</button>
                            <pre><code class="language-html">&lt;button class="primary-button"&gt;Primary Action&lt;/button&gt;

&lt;style&gt;
.primary-button {
  padding: 0.75rem 1.5rem;
  background: #5c6bc0;
  border: none;
  border-radius: 4px;
  color: white;
  cursor: pointer;
}

.primary-button:hover {
  background: #4a59a0;
}
&lt;/style&gt;</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="auth" class="category-section">
            <div class="category-header">
                <h2 class="category-title">Authentication</h2>
                <a href="#" class="see-all">See all authentication components →</a>
            </div>
            <div class="components-grid">
                <div class="component-card" data-keywords="login signin security identity">
                    <div class="component-header">
                        <h3 class="component-title">Internet Identity Auth</h3>
                        <p class="component-description">Login with Internet Identity authentication</p>
                    </div>
                    <div class="view-controls">
                        <button class="view-button active" data-view="preview">Preview</button>
                        <button class="view-button" data-view="code">Code</button>
                    </div>
                    <div class="component-view preview-view active">
                        <div class="preview-container">
                            <button class="auth-button" id="iiAuthButton">
                                <img src="https://internetcomputer.org/favicon.ico" alt="Internet Identity logo" />
                                Sign in with Internet Identity
                            </button>
                        </div>
                    </div>
                    <div class="component-view code-view">
                        <div class="code-container">
                            <button class="copy-button">Copy Code</button>
                            <pre><code class="language-javascript">
import { AuthClient } from "@dfinity/auth-client";

async function handleAuthentication() {
  const authClient = await AuthClient.create();
  if (await authClient.isAuthenticated()) {
    handleAuthenticated(authClient);
  } else {
    await authClient.login({
      identityProvider: "https://identity.ic0.app/#authorize",
      onSuccess: () => {
        handleAuthenticated(authClient);
      },
    });
  }
}

function handleAuthenticated(authClient) {
  // User is authenticated, you can now interact with IC canisters
  const identity = authClient.getIdentity();
  const principal = identity.getPrincipal().toString();
  console.log(`Authenticated with principal: ${principal}`);
}

// Attach this function to your sign-in button
document.querySelector('#iiAuthButton').addEventListener('click', handleAuthentication);
</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="canister" class="category-section">
            <div class="category-header">
                <h2 class="category-title">Canister Interaction</h2>
                <a href="#" class="see-all">See all canister interaction components →</a>
            </div>
            <div class="components-grid">
                <div class="component-card" data-keywords="backend api call smart contract">
                    <div class="component-header">
                        <h3 class="component-title">Canister Call</h3>
                        <p class="component-description">Make a call to an Internet Computer canister</p>
                    </div>
                    <div class="view-controls">
                        <button class="view-button active" data-view="preview">Preview</button>
                        <button class="view-button" data-view="code">Code</button>
                    </div>
                    <div class="component-view preview-view active">
                        <div class="preview-container">
                            <button id="callCanisterButton">Call Canister</button>
                            <div id="result"></div>
                        </div>
                    </div>
                    <div class="component-view code-view">
                        <div class="code-container">
                            <button class="copy-button">Copy Code</button>
                            <pre><code class="language-javascript">
import { Actor, HttpAgent } from "@dfinity/agent";

const agent = new HttpAgent();
const canisterId = "YOUR_CANISTER_ID";

// Replace this with your actual canister interface
const canisterInterface = {
  idlFactory: ({ IDL }) => {
    return IDL.Service({
      'greet': IDL.Func([IDL.Text], [IDL.Text], ['query']),
    });
  },
};

const canister = Actor.createActor(canisterInterface, { agent, canisterId });

async function callCanister() {
  try {
    const result = await canister.greet("World");
    document.getElementById('result').textContent = result;
  } catch (error) {
    console.error("Error calling canister:", error);
    document.getElementById('result').textContent = "Error: " + error.message;
  }
}

document.getElementById('callCanisterButton').addEventListener('click', callCanister);
</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script type="module" src="index.js"></script>
</body>
</html>
