<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internet Computer Component Library</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="index.css">
</head>
<body class="dark-theme">
    <aside class="sidebar">
        <div class="sidebar-header">
            <h1>Components</h1>
        </div>
        <ul class="category-list">
            <li class="category-item">
                <a href="#" class="category-link active" data-category="all">All Components</a>
            </li>
            <li class="category-item">
                <a href="#tooltips" class="category-link" data-category="tooltips">Tooltips</a>
            </li>
            <li class="category-item">
                <a href="#modals" class="category-link" data-category="modals">Modals</a>
            </li>
            <li class="category-item">
                <a href="#forms" class="category-link" data-category="forms">Forms</a>
            </li>
            <li class="category-item">
                <a href="#buttons" class="category-link" data-category="buttons">Buttons</a>
            </li>
            <li class="category-item">
                <a href="#auth" class="category-link" data-category="auth">Authentication</a>
            </li>
            <li class="category-item">
                <a href="#canister" class="category-link" data-category="canister">Canister Interaction</a>
            </li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search components...">
            <div class="theme-toggle" id="themeToggle"></div>
        </div>

        <!-- Previous sections (tooltips, modals, forms, buttons) remain unchanged -->

        <section id="auth" class="category-section">
            <div class="category-header">
                <h2 class="category-title">Authentication</h2>
                <a href="#" class="see-all">See all authentication components →</a>
            </div>
            <div class="components-grid">
                <div class="component-card">
                    <div class="component-header">
                        <h3 class="component-title">Internet Identity Auth</h3>
                        <p class="component-description">Login with Internet Identity authentication</p>
                    </div>
                    <div class="view-controls">
                        <button class="view-button active" data-view="preview">Preview</button>
                        <button class="view-button" data-view="code">Code</button>
                    </div>
                    <div class="component-view preview-view active">
                        <div class="preview-container">
                            <button class="auth-button" id="iiAuthButton">
                                <img src="https://internetcomputer.org/favicon.ico" alt="Internet Identity logo" />
                                Sign in with Internet Identity
                            </button>
                        </div>
                    </div>
                    <div class="component-view code-view">
                        <div class="code-container">
                            <button class="copy-button">Copy Code</button>
                            <pre><code class="language-javascript">
import { AuthClient } from "@dfinity/auth-client";

async function handleIIAuthentication() {
  const authClient = await AuthClient.create();
  if (await authClient.isAuthenticated()) {
    handleAuthenticated(authClient);
  } else {
    await authClient.login({
      identityProvider: "https://identity.ic0.app/#authorize",
      onSuccess: () => {
        handleAuthenticated(authClient);
      },
    });
  }
}

function handleAuthenticated(authClient) {
  const identity = authClient.getIdentity();
  const principal = identity.getPrincipal().toString();
  console.log(`Authenticated with principal: ${principal}`);
}

document.getElementById('iiAuthButton').addEventListener('click', handleIIAuthentication);
</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="canister" class="category-section">
            <div class="category-header">
                <h2 class="category-title">Canister Interaction</h2>
                <a href="#" class="see-all">See all canister interaction components →</a>
            </div>
            <div class="components-grid">
                <div class="component-card">
                    <div class="component-header">
                        <h3 class="component-title">Canister Call (Demo)</h3>
                        <p class="component-description">Simulated call to an Internet Computer canister</p>
                    </div>
                    <div class="view-controls">
                        <button class="view-button active" data-view="preview">Preview</button>
                        <button class="view-button" data-view="code">Code</button>
                    </div>
                    <div class="component-view preview-view active">
                        <div class="preview-container">
                            <button id="callCanisterButton">Call Canister</button>
                            <div id="canisterResult"></div>
                        </div>
                    </div>
                    <div class="component-view code-view">
                        <div class="code-container">
                            <button class="copy-button">Copy Code</button>
                            <pre><code class="language-javascript">
// This is a placeholder for actual canister interaction
function callCanister() {
  console.log("Canister interaction is not available in this demo.");
  document.getElementById('canisterResult').textContent = "Canister interaction is not available in this demo.";
}

document.getElementById('callCanisterButton').addEventListener('click', callCanister);
</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script type="module" src="index.js"></script>
</body>
</html>
